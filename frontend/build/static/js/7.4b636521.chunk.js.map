{"version":3,"sources":["components/Snackbar/Snackbar.tsx","components/Progress/Progress.tsx","assets/icons/close.svg","pages/upload-photo/components/Dropzone/Dropzone.tsx","components/InputTags/InputTags.tsx","pages/upload-photo/UploadPhoto.tsx","hooks/UseUploadPhoto.tsx"],"names":["Snackbar","message","open","className","onClick","snackbar","document","querySelector","classList","remove","Progress","progress","progressRef","ref","style","width","_path","_path2","Dropzone","register","useState","url","setUrl","dropSection","useRef","inputFile","useEffect","preventDefaults","e","preventDefault","stopPropagation","setStyle","current","add","dropStyle","readImage","file","dataTransfer","files","dt","DataTransfer","reader","FileReader","onload","result","readAsDataURL","items","forEach","eventName","addEventListener","removeEventListener","click","minHeight","value","src","toString","alt","required","type","onInput","target","_excluded","_extends","Object","assign","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgClose","_ref","svgRef","title","titleId","props","xmlns","viewBox","id","fill","d","localTags","timer","ForwardRef","InputTags","setTags","tags","apiTags","setApiTags","container","inputRef","closeOptions","contains","getTags","a","token","localStorage","getItem","axios","get","environments","api_uri","headers","Authorization","data","options","map","tag","name","newTags","filter","item","deletTag","validate","noVoid","onChange","once","text","input","Date","now","newOptions","toLowerCase","placeholder","autoComplete","slice","option","find","select","selectTag","useUploadPhoto","setProgress","handleProgress","p","loaded","total","uploadNewPhoto","image","fd","FormData","r","append","signature","api_key","timestamp","post","onUploadProgress","r2","photo","description","height","secure_url","public_id","Error","UploadPhotoPage","user","useUser","setOpen","useForm","handleSubmit","errors","formState","reset","uploadImage","form","clearTimeout","setTimeout","Header"],"mappings":"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","file":"static/js/7.4b636521.chunk.js","sourcesContent":["import React from \"react\";\nimport { SnackbarProps } from \"../../models/Props/SnackbarProps\";\nimport \"./Snackbar.scss\";\n\nconst Snackbar = ({ message, open }: SnackbarProps) => {\n  const closeSnack = () => {\n    const snackbar = document.querySelector(\".snackbar\");\n    snackbar?.classList.remove(\"on\");\n  };\n\n  return (\n    <div className={open ? \"snackbar on\" : \"snackbar\"}>\n      <span className=\"snack_message\">{message}</span>\n      <button className=\"btn_close_snack\" onClick={closeSnack}>\n        Close\n      </button>\n    </div>\n  );\n};\n\nexport default Snackbar;\n","import React from \"react\";\nimport { ProgressProps } from \"../../models/Props/ProgressProps\";\nimport \"./Progress.scss\";\n\nconst Progress = ({ progress, progressRef }: ProgressProps) => {\n  return (\n    <div className=\"progress_container\" ref={progressRef}>\n      <div className=\"progress_bar_container\">\n        <h1 className=\"progress_title\">Uploading</h1>\n        <div className=\"bar\">\n          <div className=\"progress\" style={{ width: `${progress}%` }}></div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Progress;\n","var _path, _path2;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fill: \"none\",\n    d: \"M0 0h24v24H0V0z\"\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgClose);\nexport default __webpack_public_path__ + \"static/media/close.fdc6d776.svg\";\nexport { ForwardRef as ReactComponent };","import React, { ChangeEvent, Fragment, useEffect, useRef } from \"react\";\nimport { DropzneProps } from \"../../../../models/Props/DropzoneProps\";\nimport { ReactComponent as CameraSVG } from \"../../../../assets/icons/logo_movile.svg\";\nimport { useState } from \"react\";\n\nconst Dropzone = ({ register }: DropzneProps) => {\n  const [url, setUrl] = useState<string | null | ArrayBuffer>(\"\");\n  const dropSection = useRef<HTMLDivElement>(null);\n  const inputFile = useRef<HTMLInputElement>(null);\n\n  //Handler for set prevew image in uplaod image page\n  const handleChange = (e: ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        setUrl(reader.result);\n      };\n\n      reader.readAsDataURL(file);\n    }\n  };\n\n  useEffect(() => {\n    //Getting input that capture file dropped\n\n    //Prevent default browser behavior\n    const preventDefaults = (e: Event) => {\n      e.preventDefault();\n      e.stopPropagation();\n    };\n\n    //Setting style when user is dropping a photo\n    const setStyle = () => {\n      dropSection.current?.classList.add(\"on\");\n    };\n\n    const dropStyle = () => {\n      dropSection.current?.classList.remove(\"on\");\n    };\n\n    //Reading the file route to display a preview in the box\n    const readImage = (e: DragEvent) => {\n      const inputFile = document.querySelector<HTMLInputElement>(\".inputFile\");\n      const file = e.dataTransfer?.files[0];\n\n      const dt = new DataTransfer();\n\n      if (!file || !inputFile) {\n        return;\n      }\n\n      const reader = new FileReader();\n\n      reader.onload = () => {\n        setUrl(reader.result);\n      };\n\n      reader.readAsDataURL(file);\n\n      dt.items.add(file);\n      inputFile.files = dt.files;\n\n      return;\n    };\n\n    //Handlers to activate the effect of drop\n    [\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach((eventName) => {\n      dropSection.current?.addEventListener(eventName, preventDefaults);\n    });\n\n    [\"dragenter\", \"dragover\"].forEach((eventName) => {\n      dropSection.current?.addEventListener(eventName, setStyle);\n    });\n\n    [\"dragleave\", \"drop\"].forEach((eventName) => {\n      dropSection.current?.addEventListener(eventName, dropStyle);\n    });\n    dropSection.current?.addEventListener(\"drop\", readImage);\n\n    //Removing effects to mantein clean the memory\n    return () => {\n      [\"dragenter\", \"dragover\", \"dragleave\", \"drop\"].forEach((eventName) => {\n        dropSection.current?.removeEventListener(eventName, preventDefaults);\n      });\n\n      [\"dragenter\", \"dragover\"].forEach((eventName) => {\n        dropSection.current?.removeEventListener(eventName, setStyle);\n      });\n\n      [\"dragleave\", \"drop\"].forEach((eventName) => {\n        dropSection.current?.removeEventListener(eventName, dropStyle);\n      });\n      dropSection.current?.removeEventListener(\"drop\", readImage);\n    };\n  }, []);\n  return (\n    <Fragment>\n      <div\n        className=\"dropzone\"\n        onClick={() =>\n          document.querySelector<HTMLInputElement>(\".inputFile\")?.click()\n        }\n        ref={dropSection}\n        style={{\n          minHeight: inputFile.current?.value ? \"fit-content\" : \"300px\",\n        }}\n      >\n        {!document.querySelector<HTMLInputElement>(\".inputFile\")?.value ? (\n          <div className=\"body-dropzone\">\n            <CameraSVG />\n            <p className=\"text-dropzone\">Drop here your photo</p>\n          </div>\n        ) : (\n          <img src={url?.toString()} alt=\"\" />\n        )}\n      </div>\n      <input\n        {...register(\"image\", {\n          required: {\n            value: true,\n            message: \"Please enter your image\",\n          },\n        })}\n        type=\"file\"\n        className=\"inputFile\"\n        //Im using on input just in this ocassion because useReactForm is using onChange to handle de image\n        onInput={handleChange}\n      />\n    </Fragment>\n  );\n};\n\nexport default Dropzone;\n","import axios from \"axios\";\nimport \"./InputTags.scss\";\nimport React, { useEffect, useState } from \"react\";\nimport { environments } from \"../../environments\";\nimport { Tag } from \"../../models/Interfaces/Tag\";\nimport { ReactComponent as CloseSvg } from \"../../assets/icons/close.svg\";\nimport { InputTagsProps } from \"../../models/Props/InputTagsProps\";\nimport { useRef } from \"react\";\n\nlet localTags: Tag[];\n\nconst InputTags = ({ register, setTags, tags }: InputTagsProps) => {\n  const [apiTags, setApiTags] = useState<Tag[]>([]);\n  const container = document.querySelector(\".autocomplete-container\");\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const selectTag = (tag: Tag) => {\n    const container = document.querySelector(\".autocomplete-container\");\n    const input = document.querySelector<HTMLInputElement>(\".inputTags\");\n\n    const match = tags.find((select: Tag) => {\n      return select.name === tag.name;\n    });\n\n    if (match) return container?.classList.remove(\"on\");\n    setTags([...tags, tag]);\n\n    container?.classList.remove(\"on\");\n    if (input) {\n      input.value = \"\";\n    }\n  };\n\n  const closeOptions = (e?: MouseEvent) => {\n    if (\n      !document\n        .querySelector(\".input-tags-container\")\n        ?.contains(e?.target as Node)\n    ) {\n      container?.classList.remove(\"on\");\n    }\n  };\n\n  const openOptions = () => {\n    container?.classList.add(\"on\");\n\n    document.addEventListener(\"click\", closeOptions, { once: true });\n  };\n\n  const deletTag = (tag: Tag) => {\n    const newTags = tags.filter((item) => {\n      return item.name !== tag.name;\n    });\n\n    setTags(newTags);\n  };\n\n  const handleChange = (e: any) => {\n    openOptions();\n    const text = e.target.value;\n    const input = document.querySelector<HTMLInputElement>(\".inputTags\");\n\n    let i = Date.now();\n\n    input?.addEventListener(\n      \"keydown\",\n      (e) => {\n        if (e.key === \"Enter\") {\n          setTags([\n            ...tags,\n            {\n              name: text,\n              id: i,\n            },\n          ]);\n          input.value = \"\";\n          container?.classList.remove(\"on\");\n        }\n\n        return;\n      },\n      {\n        once: true,\n      }\n    );\n\n    const newOptions = localTags.filter((tag) => {\n      return tag.name.toLowerCase().indexOf(text.toLowerCase()) !== -1;\n    });\n\n    if (newOptions.length === 0) {\n      setApiTags([\n        {\n          name: text,\n          id: i,\n        },\n      ]);\n      i++;\n      return;\n    }\n\n    setApiTags(newOptions);\n  };\n\n  const getTags = async () => {\n    const token = localStorage.getItem(\"t1ks1ehn\");\n    const { data } = await axios.get(`${environments.api_uri}/user/tags`, {\n      headers: {\n        Authorization: `Bearer ${token}`,\n      },\n    });\n    localTags = data.options;\n    setApiTags(data.options);\n    return data.options;\n  };\n\n  useEffect(() => {\n    getTags();\n  }, []);\n\n  return (\n    <div className=\"input-tags-container\">\n      {tags.map((tag: Tag) => {\n        return (\n          <span key={tag.id}>\n            {tag.name} <CloseSvg onClick={() => deletTag(tag)} />\n          </span>\n        );\n      })}\n      <input\n        {...register(\"tags\", {\n          validate: {\n            noVoid: () => {\n              if (tags.length > 0) {\n                return true;\n              }\n              return \"Enter at least 1 tag\";\n            },\n          },\n        })}\n        ref={inputRef}\n        type=\"text\"\n        onChange={handleChange}\n        placeholder=\"Tags\"\n        className=\"inputTags\"\n        autoComplete=\"off\"\n        name=\"tags\"\n      />\n      <div className=\"autocomplete-container\">\n        {apiTags?.slice(0, 5).map((option) => {\n          return (\n            <p\n              className=\"option\"\n              key={option.id}\n              onClick={() => selectTag(option)}\n            >\n              {option.name}\n            </p>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default InputTags;\n","import useUser from \"../../hooks/UseUser\";\nimport { useForm } from \"react-hook-form\";\nimport Dropzone from \"./components/Dropzone/Dropzone\";\nimport InputTags from \"../../components/InputTags/InputTags\";\nimport { Tag } from \"../../models/Interfaces/Tag\";\nimport Progress from \"../../components/Progress/Progress\";\nimport useUploadPhoto from \"../../hooks/UseUploadPhoto\";\nimport { NewPhoto } from \"../../models/Interfaces/NewPhoto\";\nimport Snackbar from \"../../components/Snackbar/Snackbar\";\nimport { useEffect, useState } from \"react\";\nimport HeaderComponent from \"../../components/Header/Header\";\n\nlet timer: NodeJS.Timer;\n\nconst UploadPhotoPage = () => {\n  const { user } = useUser();\n  const [tags, setTags] = useState<Tag[]>([]);\n  const [open, setOpen] = useState(false);\n\n  const {\n    handleSubmit,\n    formState: { errors },\n    register,\n    reset,\n  } = useForm();\n  const { progress, uploadNewPhoto, progressRef } = useUploadPhoto();\n\n  const uploadImage = async (form: NewPhoto) => {\n    //CLosing Snackbar if it is already showing\n    setOpen(false);\n\n    //Getting photo from input directly\n    const photo = document.querySelector<HTMLInputElement>(\".inputFile\")\n      ?.files?.[0] as File;\n\n    //Clearing timer if it exist\n    timer ? clearTimeout(timer) : clearTimeout();\n\n    //Setting tags object to form of useForm\n    form.tags = tags;\n\n    //Uploading Photo\n    await uploadNewPhoto(form, photo);\n\n    //Reseting all elements in special inputFile\n    reset({ image: new DataTransfer().files });\n    setTags([]);\n\n    //Opening Snackbar\n    setOpen(true);\n    timer = setTimeout(() => {\n      setOpen(false);\n    }, 3000);\n  };\n\n  useEffect(() => {\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n  return (\n    <div className=\"upload_photo_page fadeIn\">\n      <HeaderComponent user={user} />\n\n      <div className=\"container\">\n        <h1 className=\"title_page\">Upload Photo</h1>\n        <div className=\"dropzone-container\">\n          <Dropzone register={register} />\n          <div className=\"message_error\">{errors.image?.message}</div>\n        </div>\n\n        <form className=\"form\">\n          <div className=\"controller_container\">\n            <input\n              type=\"text\"\n              placeholder=\"Photo Name\"\n              autoComplete=\"off\"\n              {...register(\"name\", {\n                required: {\n                  value: true,\n                  message: \"Please enter a photo name\",\n                },\n              })}\n            />\n\n            <p className=\"message_error\">{errors.name?.message}</p>\n          </div>\n\n          <div className=\"special-container\">\n            <InputTags register={register} setTags={setTags} tags={tags} />\n            <p className=\"message_error\">\n              {tags.length < 1 ? errors.tags?.message : \"\"}\n            </p>\n          </div>\n\n          <div className=\"controller-textarea-container\">\n            <textarea\n              placeholder=\"Photo Name\"\n              autoComplete=\"off\"\n              {...register(\"description\", {\n                required: {\n                  value: true,\n                  message: \"Please enter a description\",\n                },\n              })}\n            />\n\n            <p className=\"message_error\">{errors.description?.message}</p>\n          </div>\n\n          <button\n            className=\"btn-upload-image\"\n            type=\"button\"\n            onClick={handleSubmit(uploadImage)}\n          >\n            Upload\n          </button>\n        </form>\n      </div>\n\n      <Progress progress={progress} progressRef={progressRef} />\n      <Snackbar message=\"Photo upload\" open={open} />\n    </div>\n  );\n};\n\nexport default UploadPhotoPage;\n","import axios from \"axios\";\nimport { useRef, useState } from \"react\";\nimport { environments } from \"../environments\";\nimport { NewPhoto } from \"../models/Interfaces/NewPhoto\";\n\nconst useUploadPhoto = () => {\n  const [progress, setProgress] = useState(0);\n  const token = localStorage.getItem(\"t1ks1ehn\");\n  const progressRef = useRef<HTMLDivElement>(null);\n\n  const handleProgress = (e: any) => {\n    const p = (e.loaded * 100) / e.total;\n    setProgress(p);\n  };\n\n  const uploadNewPhoto = async (p: NewPhoto, image: File) => {\n    //Showing progress modal\n    progressRef.current?.classList.add(\"on\");\n    setProgress(0);\n    const fd = new FormData();\n\n    try {\n      //Start with http request to CLOUDINARY\n      const r = await axios.get(`${environments.api_uri}/photos/signature`, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n      fd.append(\"file\", image);\n      fd.append(\"signature\", r.data.signature);\n      fd.append(\"api_key\", r.data.api_key);\n      fd.append(\"timestamp\", r.data.timestamp);\n\n      const r2 = await axios.post(\n        \"https://api.cloudinary.com/v1_1/dder8kjda/image/upload\",\n        fd,\n        {\n          onUploadProgress: handleProgress,\n        }\n      );\n\n      const photo = {\n        description: p.description,\n        name: p.name,\n        tags: p.tags,\n        width: r2.data.width,\n        height: r2.data.height,\n        image: {\n          secure_url: r2.data.secure_url,\n          public_id: r2.data.public_id,\n        },\n      };\n\n      await axios.post(`${environments.api_uri}/photos/upload-photo/`, photo, {\n        headers: {\n          Authorization: `Bearer ${token}`,\n        },\n      });\n\n      progressRef.current?.classList.remove(\"on\");\n    } catch (err) {\n      throw Error(\"Something went wrong\");\n    }\n  };\n\n  return { uploadNewPhoto, progress, progressRef };\n};\n\nexport default useUploadPhoto;\n"],"sourceRoot":""}