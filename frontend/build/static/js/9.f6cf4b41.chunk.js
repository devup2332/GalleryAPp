(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[9],{37:function(e,t,r){"use strict";r.d(t,"a",(function(){return l}));var a,n=r(0),s=["title","titleId"];function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e}).apply(this,arguments)}function i(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},s=Object.keys(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(a=0;a<s.length;a++)r=s[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function o(e,t){var r=e.title,o=e.titleId,l=i(e,s);return n.createElement("svg",c({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",ref:t,"aria-labelledby":o},l),r?n.createElement("title",{id:o},r):null,a||(a=n.createElement("g",{"data-name":"Looding 19"},n.createElement("path",{d:"M29.89 15.81a2.51 2.51 0 1 0-5 .45 9.65 9.65 0 0 1-1.68 6.34 10.24 10.24 0 0 1-5.74 4 10.71 10.71 0 0 1-7.38-.7 11.44 11.44 0 0 1-5.48-5.62A12.07 12.07 0 0 0 9.46 27 12.58 12.58 0 0 0 17.9 29a13.31 13.31 0 0 0 8.18-4 14 14 0 0 0 3.81-8.75v-.08A2.29 2.29 0 0 0 29.89 15.81zM7.11 15.74A9.65 9.65 0 0 1 8.79 9.4a10.24 10.24 0 0 1 5.74-4 10.71 10.71 0 0 1 7.38.7 11.44 11.44 0 0 1 5.48 5.62A12.07 12.07 0 0 0 22.54 5 12.58 12.58 0 0 0 14.1 3 13.31 13.31 0 0 0 5.92 7a14 14 0 0 0-3.81 8.75v.08a2.29 2.29 0 0 0 0 .37 2.51 2.51 0 1 0 5-.45z"}))))}var l=n.forwardRef(o);r.p},38:function(e,t,r){"use strict";r(0),r(39);var a=r(1);t.a=function(e){var t=e.message,r=e.open;return Object(a.jsxs)("div",{className:r?"snackbar on":"snackbar",children:[Object(a.jsx)("span",{className:"snack_message",children:t}),Object(a.jsx)("button",{className:"btn_close_snack",onClick:function(){var e=document.querySelector(".snackbar");null===e||void 0===e||e.classList.remove("on")},children:"Close"})]})}},39:function(e,t,r){},52:function(e,t,r){"use strict";r(0),r(53);var a=r(1);t.a=function(e){var t=e.progress,r=e.progressRef;return Object(a.jsx)("div",{className:"progress_container",ref:r,children:Object(a.jsxs)("div",{className:"progress_bar_container",children:[Object(a.jsx)("h1",{className:"progress_title",children:"Uploading"}),Object(a.jsx)("div",{className:"bar",children:Object(a.jsx)("div",{className:"progress",style:{width:"".concat(t,"%")}})})]})})}},53:function(e,t,r){},94:function(e,t,r){"use strict";r.r(t);var a,n=r(32),s=r.n(n),c=r(33),i=r(31),o=r(0),l=r(42),u=r(44),d=r(41),p=r(40),m=r(47),j=r(34),v=r(37),b=r(1),f=function(e){var t,r,a,n,s=e.user,c=e.updateUser,i=e.loading,l=Object(m.a)(),u=l.register,d=l.handleSubmit,f=l.formState.errors,h=l.reset;return Object(o.useEffect)((function(){return h({fullName:null===s||void 0===s?void 0:s.fullName,phone:null===s||void 0===s?void 0:s.phone,description:null===s||void 0===s?void 0:s.description,email:null===s||void 0===s?void 0:s.email}),function(){}}),[s,h]),Object(b.jsxs)("form",{className:"form_update_profile",onSubmit:d(c),children:[Object(b.jsxs)("div",{className:"controller_update_profile",children:[Object(b.jsx)("input",Object(p.a)({type:"text",placeholder:"Full Name",disabled:"form"!==(null===s||void 0===s?void 0:s.provider),className:"form"!==(null===s||void 0===s?void 0:s.provider)?"disabled":""},u("fullName",{required:{value:!0,message:"Please enter your full name"}}))),Object(b.jsx)("p",{className:"message_error",children:null===(t=f.fullName)||void 0===t?void 0:t.message})]}),Object(b.jsxs)("div",{className:"controller_update_profile",children:[Object(b.jsx)("input",Object(p.a)({type:"text",placeholder:"Email",disabled:"form"!==(null===s||void 0===s?void 0:s.provider),className:"form"!==(null===s||void 0===s?void 0:s.provider)?"disabled":""},u("email",{required:{value:!0,message:"Please enter your email"},pattern:{value:j.a.email_pattern,message:"Email invalid"}}))),Object(b.jsx)("p",{className:"message_error",children:null===(r=f.email)||void 0===r?void 0:r.message})]}),Object(b.jsxs)("div",{className:"controller_update_profile",children:[Object(b.jsx)("input",Object(p.a)({type:"text",placeholder:"Phone"},u("phone",{required:{value:!0,message:"Please enter your phone"},pattern:{value:j.a.number_pattern,message:"Just Numbers"}}))),Object(b.jsx)("p",{className:"message_error",children:null===(a=f.phone)||void 0===a?void 0:a.message})]}),Object(b.jsxs)("div",{className:"controller_area_update_profile",children:[Object(b.jsx)("textarea",Object(p.a)({placeholder:"About You"},u("description",{required:{value:!0,message:"Please enter your description"}}))),Object(b.jsx)("p",{className:"message_error",children:null===(n=f.description)||void 0===n?void 0:n.message})]}),Object(b.jsxs)("button",{className:"btn_update_user",type:"submit",children:[i?Object(b.jsx)(v.a,{}):null,"Update"]})]})},h=r(38),O=r(14),g=r(36),x=r.n(g),_=r(2),N=function(){var e=localStorage.getItem("t1ks1ehn"),t=Object(_.h)().id;return{update:function(){var r=Object(c.a)(s.a.mark((function r(a){var n,c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,x.a.put("".concat(j.a.api_uri,"/user/update/").concat(t),a,{headers:{Authorization:"Bearer ".concat(e)}});case 2:return n=r.sent,c=n.data,r.abrupt("return",c);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},y=function(){var e=Object(o.useRef)(null),t=Object(o.useState)(0),r=Object(i.a)(t,2),a=r[0],n=r[1],l=Object(_.h)().id,u=function(e){var t=100*e.loaded/e.total;n(t)};return{progress:a,updatePhoto:function(){var t=Object(c.a)(s.a.mark((function t(r){var a,c,i,o,d,p,m,v,b;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(0),a=new FormData,c=localStorage.getItem("t1ks1ehn"),t.prev=3,t.next=6,x.a.get("".concat(j.a.api_uri,"/photos/signature"),{headers:{Authorization:"Bearer ".concat(c)}});case 6:return o=t.sent,d=o.data,a.append("file",r),a.append("signature",d.signature),a.append("api_key",d.api_key),a.append("timestamp",d.timestamp),null===(i=e.current)||void 0===i||i.classList.add("on"),t.next=15,x.a.post("https://api.cloudinary.com/v1_1/dder8kjda/image/upload",a,{onUploadProgress:u});case 15:return p=t.sent,m=p.data,v=m.secure_url,b=m.public_id,t.next=19,x.a.put("".concat(j.a.api_uri,"/user/update/").concat(l),{avatar:{secure_url:v,public_id:b}},{headers:{Authorization:"Bearer ".concat(c)}});case 19:t.next=24;break;case 21:throw t.prev=21,t.t0=t.catch(3),t.t0.message;case 24:case"end":return t.stop()}}),t,null,[[3,21]])})));return function(e){return t.apply(this,arguments)}}(),progressRef:e}},k=r(52);t.default=function(){var e=Object(l.a)(),t=e.user,r=e.getUser,n=N().update,p=y(),m=p.progress,j=p.updatePhoto,v=p.progressRef,g=Object(o.useState)(""),x=Object(i.a)(g,2),_=x[0],w=x[1],P=Object(o.useState)(!1),E=Object(i.a)(P,2),S=E[0],A=E[1],I=Object(o.useState)(!1),R=Object(i.a)(I,2),T=R[0],U=R[1],q=Object(o.useRef)(null),z=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),A(!1),clearTimeout(a),e.next=5,n(t);case 5:U(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(c.a)(s.a.mark((function e(t){var r,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.target.files[0]){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,j(a);case 5:null===(r=v.current)||void 0===r||r.classList.remove("on");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){return O.a.bind("user-photo-updated",(function(e){var t=e.message;r(),A(!0),w(t),a=setTimeout((function(){w(""),A(!1),clearTimeout(a)}),3e3)})),O.a.bind("user-updated",(function(e){var t=e.message;A(!0),w(t),a=setTimeout((function(){w(""),A(!1),clearTimeout(a)}),3e3)})),function(){clearTimeout(a),O.a.unbind()}}),[]),Object(b.jsxs)("div",{className:"edit_profile_page fadeIn",children:[t?Object(b.jsx)(u.a,{user:t}):null,Object(b.jsxs)("div",{className:"subcontainer_edit_profile",children:[Object(b.jsx)("h1",{className:"title_edit_profile",children:"EDIT PROFILE"}),Object(b.jsxs)("div",{className:"form_container",children:[Object(b.jsxs)("div",{className:"image_profile_container",onClick:function(){var e;return null===(e=q.current)||void 0===e?void 0:e.click()},children:[Object(b.jsx)("img",{src:null===t||void 0===t?void 0:t.avatar.secure_url,alt:""}),Object(b.jsxs)("div",{className:"hover_content",children:[Object(b.jsx)(d.a,{}),Object(b.jsx)("p",{className:"hover_text",children:"CHANGE PHOTO"})]})]}),Object(b.jsx)("input",{type:"file",name:"",id:"",style:{display:"none"},ref:q,onChange:C}),t?Object(b.jsx)(f,{user:t,updateUser:z,loading:T}):null]})]}),Object(b.jsx)(h.a,{message:_,open:S}),Object(b.jsx)(k.a,{progress:m,progressRef:v})]})}}}]);
//# sourceMappingURL=9.f6cf4b41.chunk.js.map